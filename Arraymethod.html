<!DOCTYPE html>
<html lang="en">
<head>
  <title>Array Methods</title>
</head>
<body>
  <script>
    function allArrayProblem(caseType, codeType, parameter) {
      if (caseType === "stringCount") {
        if (codeType === "custom") {
          let count = {};
          for (let index = 0; index < parameter.length; index++) {
            const element = parameter[index];
            if (count[element]) {
              count[element]++;
            } else {
              count[element] = 1
            }
          }
          return count;

        } else {
          let count = {};
          parameter.forEach(element => {
            console.log('builtin', element)
            if (count[element]) {
              count[element]++;
            } else {
              count[element] = 1
            }
          });
          return count;
        }
      } else if (caseType === "missingNumber") {
        if (codeType === "custom") {
          let orignalArray = [];
          for (let index = 0; index < parameter.length; index++) {
            if (index < parameter.length - 1) {
              const element = parameter[index];
              if (element + 1 !== parameter[index + 1]) {
                parameter.splice((index + 1), 0, element + 1)
              } else {
                orignalArray.push(element);
              }
            }
          }
          return {
            orignalArray: orignalArray,
            parameter: parameter
          }

        } else {
          parameter.forEach((element, index) => {
            if (index < parameter.length - 1) {
              if (element + 1 !== parameter[index + 1]) {
                parameter.splice((index + 1), 0, element + 1)
              }
            }
          });
        }

      } else if (caseType === "rotateElement") {
        if (codeType === "custom") {
          const temp = parameter[parameter.length - 1]

          parameter[parameter.length - 1] = parameter[0];
          parameter[0] = temp;
          return parameter
        } else {
          const temp = parameter[parameter.length - 1]

          parameter[parameter.length - 1] = parameter[0];
          parameter[0] = temp;
          return parameter
        }
      } else if (caseType === "removeDuplicate") {
        if (codeType === "custom") {
          let uniqueArr = [parameter[0]];
          for (let index = 0; index < parameter.length; index++) {
            const element = parameter[index];
            if (!uniqueArr.includes(element)) {
              uniqueArr.push(element);
            }
          }
          return uniqueArr;
        } else {
          // 1st solution
          // let array = [...new Set(parameter)]
          //2nd solution 
          let array = parameter.filter(function (item, index) {
            return parameter.indexOf(item) == index;
          })
          return array;
        }

      } else if (caseType === "findMax") {
        if (codeType === "custom") {
          let maxTemp = parameter[0];
          for (let index = 0; index < parameter.length; index++) {
            const element = parameter[index];
            console.log("findmax element", element)
            if (maxTemp < parameter[index]) {
              maxTemp = parameter[index];
            }
          }
          return maxTemp;
        } else {
          let max = Math.max(...parameter);
          return max;
        }
      } 
    }
    const stringCount = allArrayProblem("stringCount", "builtIn", ["apple", "banana", "apple"])
    console.log("String Count ", stringCount);
    const missingNumber = allArrayProblem("missingNumber", "custom", [1, 4, 6, 9])
    console.log("misssing Number", missingNumber)

    const rotateElement = allArrayProblem("rotateElement", "custom", [1, 5, 3, 4])
    console.log("rotateElement", rotateElement)

    const removeDuplicate = allArrayProblem("removeDuplicate", "built", [1, 2, 2, 3, 4, 5])
    console.log("Remove duplicate", removeDuplicate)

    const findMax = allArrayProblem("findMax", "s", [3, 9, 1, 7])
    console.log("findMax", findMax)
  </script>
</body>

</html>