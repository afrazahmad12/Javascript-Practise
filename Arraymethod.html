<!DOCTYPE html>
<html lang="en">

<head>
  <title>Array Methods</title>
</head>

<body>
  <script>
    function allArrayProblem(caseType, codeType, parameter, second) {
      if (caseType === "stringCount") {
        if (codeType === "custom") {
          let count = {};
          for (let index = 0; index < parameter.length; index++) {
            const element = parameter[index];
            if (count[element]) {
              count[element]++;
            } else {
              count[element] = 1
            }
          }
          return count;

        } else {
          let count = {};
          parameter.forEach(element => {
            // console.log('builtin', element)
            if (count[element]) {
              count[element]++;
            } else {
              count[element] = 1
            }
          });
          return count;
        }
      } else if (caseType === "missingNumber") {
        if (codeType === "custom") {
          let orignalArray = [];
          for (let index = 0; index < parameter.length; index++) {
            if (index < parameter.length - 1) {
              const element = parameter[index];
              if (element + 1 !== parameter[index + 1]) {
                parameter.splice((index + 1), 0, element + 1)
              } else {
                orignalArray.push(element);
              }
            }
          }
          return {
            orignalArray: orignalArray,
            parameter: parameter
          }

        } else {
          parameter.forEach((element, index) => {
            if (index < parameter.length - 1) {
              if (element + 1 !== parameter[index + 1]) {
                parameter.splice((index + 1), 0, element + 1)
              }
            }
          });
        }

      } else if (caseType === "rotateElement") {
        if (codeType === "custom") {
          const temp = parameter[parameter.length - 1]

          parameter[parameter.length - 1] = parameter[0];
          parameter[0] = temp;
          return parameter
        } else {
          const temp = parameter[parameter.length - 1]
          parameter[parameter.length - 1] = parameter[0];
          parameter[0] = temp;
          return parameter
        }
      } else if (caseType === "removeDuplicate") {
        if (codeType === "custom") {
          let uniqueArr = [parameter[0]];
          for (let index = 0; index < parameter.length; index++) {
            const element = parameter[index];
            if (!uniqueArr.includes(element)) {
              uniqueArr.push(element);
            }
          }
          return uniqueArr;
        } else {
          // 1st solution
          // let array = [...new Set(parameter)]
          //2nd solution 

          let array = parameter.filter(function (item, index) {
            return parameter.indexOf(item) == index;
          })
          return array;
        }

      } else if (caseType === "findMax") {
        if (codeType === "custom") {
          let maxTemp = parameter[0];
          for (let index = 0; index < parameter.length; index++) {
            const element = parameter[index];
            if (maxTemp < parameter[index]) {
              maxTemp = parameter[index];
            }
          }
          return maxTemp;
        } else {
          let max = Math.max(...parameter);
          return max;
        }
      } else if (caseType === "sumElement") {
        if (codeType === "custom") {
          let sum = 0;
          for (let index = 0; index < parameter.length; index++) {
            const element = parameter[index];
            sum = sum + element;
          }
          return sum;
        } else {

          var sum = parameter.reduce((accumulator, currentValue) => {
            return accumulator + currentValue
          }, 0);
          return sum
        }
      } else if (caseType === "reverseArray") {
        if (codeType === "custom") {
          let reversearray = [];
          for (index = parameter.length - 1; index >= 0; index--) {
            const element = parameter[index];
            reversearray.push(element);
          }
          return reversearray;
        } else {
          return parameter.reverse()
        }
      } else if (caseType === "findEvenOdd") {
        if (codeType === "custom") {
          let evenarray = [];
          let oddarray = [];
          for (let index = 0; index < parameter.length; index++) {
            const element = parameter[index];
            if (element % 2 === 0) {
              evenarray.push(element)
            } else {
              oddarray.push(element)
            }
          }
          return {
            evenarray: evenarray,
            oddarray: oddarray

          }
        } else {

          var array = parameter;
          array.sort((a, b) => a % 2 - b % 2);
          return array;
        }
      } else if (caseType === "findSecondLargest") {
        if (codeType === "custom") {
          let temp = [];
          // let scondlargest = [];
          for (let i = 0; i < parameter.length; i++) {
            for (let j = 0; j < i; j++) {
              if (parameter[i] < parameter[j]) {
                let temp = parameter[j];
                parameter[j] = parameter[i];
                parameter[i] = temp;
              }
            }
          }
          let secondlargest = parameter[parameter.length - 2];
          return secondlargest;
        } else {
          let array = parameter.sort((a, b) => a - b);
          let secondlargest = array[array.length - 2];
          return secondlargest;
        }
      } else if (caseType === "mergeArray") {
        if (codeType === "custom") {
          let mergearray = [];
          for (let index = 0; index < parameter.length; index++) {
            const element = parameter[index];
            mergearray.push(element);

          }
          for (let index = 0; index < second.length; index++) {
            const values = second[index];
            mergearray.push(values);
          }
          return mergearray;


        } else {
          let merge = [];
          merge = parameter.concat(second)
          return merge;
        }

      } else if (caseType === "checkSort") {
        if (codeType === "custom") {
          let isAscending = true;
          let oldarray = parameter;
          for (var i = 0, l = parameter.length - 1; i < l; i++) {
            isAscending = isAscending && (parameter[i] < parameter[i + 1]);
          }
          return isAscending;
        } else {
          return "In built not applicable";
        }

      } else if (caseType === "countOccurance") {
        if (codeType === "custom") {
          let count = {};
          for (let index = 0; index < parameter.length; index++) {
            const element = parameter[index];
            // console.log(element);
            if (count[element]) {
              count[element]++;
            } else {
              count[element] = 1;
            }
          }
          return count;
        } else {
          const count = parameter.reduce((acc, curr) => {
            acc[curr] = (acc[curr] || 0) + 1;
            return acc;
          }, {});
          return count;

        }

      }
    }


    const stringCount = allArrayProblem("stringCount", "custom", ["apple", "banana", "apple"])
    console.log("String Count ", stringCount);
    const missingNumber = allArrayProblem("missingNumber", "custom", [1, 4, 6, 9])
    console.log("misssing Number", missingNumber)

    const rotateElement = allArrayProblem("rotateElement", "custom", [1, 5, 3, 4])
    console.log("rotateElement", rotateElement)

    const removeDuplicate = allArrayProblem("removeDuplicate", "built", [1, 2, 2, 3, 4, 5])
    console.log("Remove duplicate", removeDuplicate)

    const findMax = allArrayProblem("findMax", "custom", [3, 9, 1, 7])
    console.log("findMax", findMax)

    const sumElement = allArrayProblem("sumElement", "custom", [1, 2, 3])
    console.log("Sum of Elements", sumElement)

    const reverseArray = allArrayProblem("reverseArray", "customs", [1, 2, 3])
    console.log("Reverse Array", reverseArray)

    const findEvenOdd = allArrayProblem("findEvenOdd", "customs", [1, 2, 3, 4, 5])
    console.log("find Even Odd", findEvenOdd)

    const findSecondLargest = allArrayProblem("findSecondLargest", "custom", [1, 2, 6, 9, 5, 10])
    console.log("Find Second Largest", findSecondLargest)


    const mergeArray = allArrayProblem("mergeArray", "customs", [1, 2, 3, 4,], [5, 6, 7])
    console.log("Merge Array", mergeArray)

    const checkSort = allArrayProblem("checkSort", "customs", [1, 2, 3, 4,])
    console.log("Check Sort", checkSort)

    const countOccurance = allArrayProblem("countOccurance", "customs", [1, 2, 3, 3, 4])
    console.log("Count Occurance", countOccurance);


  </script>
</body>

</html>